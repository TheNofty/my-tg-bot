<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* === –≠–¢–û –ù–ê–® CSS (–î–ò–ó–ê–ô–ù) === */
        
        /* –û–±–Ω—É–ª—è–µ–º –æ—Ç—Å—Ç—É–ø—ã */
        body { 
            margin: 0; 
            padding: 0; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--tg-theme-bg-color, #181818); /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –¢–ì */
            color: var(--tg-theme-text-color, #ffffff); /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¢–ì */
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Å—Ç—Ä–∞–Ω–∏—Ü—ã) */
        .content {
            padding: 20px;
            padding-bottom: 80px; /* –ß—Ç–æ–±—ã –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–ª–æ —Ç–µ–∫—Å—Ç */
            display: none; /* –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            animation: fade 0.3s; /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        }

        /* –ö–ª–∞—Å—Å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π (–≤–∏–¥–∏–º–æ–π) —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
        .content.active {
            display: block; 
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü */
        h1 { font-size: 24px; font-weight: bold; margin-top: 0; }

        /* === –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ (DOCK) === */
        .tab-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 70px;
            background-color: var(--tg-theme-secondary-bg-color, #252525); /* –ß—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ —Ñ–æ–Ω–∞ */
            display: flex;
            justify-content: space-around; /* –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ */
            align-items: center;
            border-top: 1px solid rgba(128, 128, 128, 0.2);
            padding-bottom: 10px; /* –î–ª—è –∞–π—Ñ–æ–Ω–æ–≤ (—á–µ–ª–∫–∞ —Å–Ω–∏–∑—É) */
        }

        /* –ö–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é */
        .tab-btn {
            background: none;
            border: none;
            color: var(--tg-theme-hint-color, #888888);
            font-size: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            flex: 1;
        }

        /* –ò–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏ –ø–æ–∫–∞, –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏) */
        .tab-icon {
            font-size: 24px;
            margin-bottom: 4px;
            filter: grayscale(100%); /* –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º */
            transition: transform 0.1s;
        }

        /* –ê–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (—Å–∏–Ω—è—è) */
        .tab-btn.active {
            color: var(--tg-theme-button-color, #4ea4f5);
        }
        .tab-btn.active .tab-icon {
            filter: none;
            transform: scale(1.1); /* –ß—É—Ç—å —É–≤–µ–ª–∏—á–∏–º –ø—Ä–∏ –≤—ã–±–æ—Ä–µ */
        }

        /* –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
        @keyframes fade {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
        .card {
            background-color: var(--tg-theme-secondary-bg-color, #2c2c2c);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <!-- === –°–¢–†–ê–ù–ò–¶–ê 1: –ì–õ–ê–í–ù–ê–Ø === -->
    <div id="page-home" class="content active">
        <h1>üè† –ì–ª–∞–≤–Ω–∞—è</h1>
        <div class="card">
            <p>–ü—Ä–∏–≤–µ—Ç, <span id="user-name">–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>!</p>
            <p>–≠—Ç–æ —Ç–≤–æ—è —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–∞–Ω–µ–ª—å.</p>
        </div>
        <button style="padding: 10px 20px; width: 100%; border-radius: 10px; border:none; background: var(--tg-theme-button-color); color: #fff;" onclick="Telegram.WebApp.showAlert('–ö–ª–∏–∫!')">–¢–µ—Å—Ç</button>
    </div>

    <!-- === –°–¢–†–ê–ù–ò–¶–ê 2: –ú–ê–ì–ê–ó–ò–ù === -->
    <div id="page-store" class="content">
        <h1>üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω</h1>
        <div class="card">–¢–æ–≤–∞—Ä ‚Ññ1 - 100$</div>
        <div class="card">–¢–æ–≤–∞—Ä ‚Ññ2 - 500$</div>
        <div class="card">–¢–æ–≤–∞—Ä ‚Ññ3 - 999$</div>
        <div class="card">–¢–æ–≤–∞—Ä ‚Ññ4 - 5$</div>
    </div>

    <!-- === –°–¢–†–ê–ù–ò–¶–ê 3: –î–†–£–ó–¨–Ø === -->
    <div id="page-friends" class="content">
        <h1>üë• –î—Ä—É–∑—å—è</h1>
        <p>–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç –¥—Ä—É–∑–µ–π :(</p>
        <div class="card">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞</div>
    </div>

    <!-- === –°–¢–†–ê–ù–ò–¶–ê 4: –ü–†–û–§–ò–õ–¨ === -->
    <div id="page-profile" class="content">
        <h1>‚öôÔ∏è –ü—Ä–æ—Ñ–∏–ª—å</h1>
        <div class="card">
            <b>–¢–≤–æ–π ID:</b> <span id="user-id">---</span>
        </div>
        <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —è–∑—ã–∫–∞: –†—É—Å—Å–∫–∏–π</p>
    </div>


    <!-- === –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ (–§–ò–ö–°–ò–†–û–í–ê–ù–ù–û–ï) === -->
    <div class="tab-bar">
        <button class="tab-btn active" onclick="openTab('home', this)">
            <span class="tab-icon">üè†</span>
            –ì–ª–∞–≤–Ω–∞—è
        </button>
        <button class="tab-btn" onclick="openTab('store', this)">
            <span class="tab-icon">üõçÔ∏è</span>
            –ú–∞–≥–∞–∑–∏–Ω
        </button>
        <button class="tab-btn" onclick="openTab('friends', this)">
            <span class="tab-icon">üë•</span>
            –î—Ä—É–∑—å—è
        </button>
        <button class="tab-btn" onclick="openTab('profile', this)">
            <span class="tab-icon">‚öôÔ∏è</span>
            –ü—Ä–æ—Ñ–∏–ª—å
        </button>
    </div>

    <script>
        // === –≠–¢–û JAVASCRIPT (–õ–û–ì–ò–ö–ê) ===

        // 1. –°–æ–æ–±—â–∞–µ–º —Ç–µ–ª–µ–≥—Ä–∞–º—É, —á—Ç–æ –º—ã –≥–æ—Ç–æ–≤—ã
        Telegram.WebApp.ready();
        Telegram.WebApp.expand(); // –†–∞—Å—Ç—è–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // 2. –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        function openTab(pageName, btnElement) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            let allPages = document.querySelectorAll('.content');
            allPages.forEach(page => page.classList.remove('active'));

            // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            let allBtns = document.querySelectorAll('.tab-btn');
            allBtns.forEach(btn => btn.classList.remove('active'));

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            document.getElementById('page-' + pageName).classList.add('active');

            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –Ω–∞–∂–∞—Ç—É—é –∫–Ω–æ–ø–∫—É
            btnElement.classList.add('active');
        }

        // 3. –ë–µ—Ä–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ò–º—è –∏ ID)
        const user = Telegram.WebApp.initDataUnsafe.user;
        if (user) {
            document.getElementById('user-name').innerText = user.first_name;
            document.getElementById('user-id').innerText = user.id;
        }
    </script>
</body>
</html>
